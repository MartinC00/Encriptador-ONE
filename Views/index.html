<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="../Tools/reset.css">
		<link rel="stylesheet" href="../CSS/style.css">
		<title>Encriptador TXT</title>
	</head>
	
	<body>
		<header>
			<img class="img-logo" src="../Images/logo.svg" alt="Logo de Alura">
		</header>

		<main>
			<section class="input-section">
				<textarea class="input-textarea" autofocus placeholder="Ingrese el texto aqui" onkeypress="return (event.charCode >= 97 && event.charCode <= 122 || event.charCode == 32)" required></textarea>
				<img src="../Images/signo-exclamacion.svg" class="signo-exclamacion" alt="Signo Exclamacion">
				<p class="txt-advertencia">Solo letras minúsculas son permitidas</p>
				<input type="button" value="Encriptar" name="encriptar" class="encriptar-button">		
				<input type="button" value="Desencriptar" name="desencriptar" class="desencriptar-button">		
			</section>

			<section class="output-section">
				<img src="../Images/munieco.svg" class="munieco" alt="Personaje buscando">
				<p class="not-found-title">Ningún mensaje fue encontrado</p>
				<p class="not-found-text">Ingresa el texto que desees encriptar o desencriptar</p>

			</section>
		</main>
		<footer>
			<p>FOOTER</p>
		</footer>
	</body>
</html>

<script>
	
	let encriptarButton = document.querySelector("input[name='encriptar']");
	let desencriptarButton = document.querySelector("input[name='desencriptar']");
	
	encriptarButton.addEventListener("click", () => {
  		let textoEncriptado = encriptar();
 		console.log(textoEncriptado);
	});

	desencriptarButton.addEventListener("click", (encriptado) => {
  		let textoDesencriptado = desencriptar();
 		console.log(textoDesencriptado);
	});


	function encriptar() 
	{
		let text = (document.querySelector("textarea")).value;
	  	
	  	for (let vocal in keys) 
	  	{
		    const regex = new RegExp(vocal, "g");
		    text = text.replace(regex, keys[vocal]);
	  	}
	  	return text;
	}

	function desencriptar()
	{
		let text = (document.querySelector("textarea")).value;
		for(let vocal in keys)
		{
			const reemplazo = keys[vocal];
			const regex = new RegExp(reemplazo, "g");
			text = text.replace(regex, vocal);
		}
		return text;
	}

	const keys = {
	  "e": "enter",
	  "i": "imes",
	  "a": "ai",
	  "o": "ober",
	  "u": "ufat"
	};

</script>